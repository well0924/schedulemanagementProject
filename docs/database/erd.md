### ERD 구조도

<img width="1280" height="498" alt="Image" src="https://github.com/user-attachments/assets/3ec1745d-7e6f-40ce-b5d8-e28a4660777b" />

### ERD 설계 핵심 원칙

본 프로젝트의 ERD는 단순한 관계 모델링을 넘어,이벤트 재처리, 멱등성 보장, 장애 격리를 고려한 운영 중심 데이터 구조를 목표로 설계했습니다.

장애 발생 시 메시지 재전송이나 멱등성 처리가 시스템 전체의 부작용으로 확산되지 않도록 '격리와 무결성'을 핵심 설계 기준으로 삼았습니다.

---
#### 객체 참조를 배제한 ID 기반 약결합

엔티티 간 직접적인 객체 참조 대신 ID(Long) 값만 보유하는 구조를 채택했습니다. 이를 통해 특정 도메인의 재처리 작업이 연쇄적인 조회를 일으키는 것을 방지하고, 도메인 간의 의존성을 최소화했습니다.

---

#### DB 제약조건을 통한 정합성 강제

데이터 무결성을 애플리케이션 계층(JPA)에만 의존하지 않고, DB 수준의 Foreign Key와 제약조건으로 강제했습니다. 이는 운영 단계에서 어떤 기술적 변수가 발생하더라도 데이터의 최종 정합성을 보장하기 위함입니다.

---

#### 이벤트 처리 인프라의 독립성

Outbox, FailMessage(실패 기록), ProcessedEvent(멱등성 처리) 테이블을 독립적으로 설계했습니다. 특정 기능의 실패가 전체 시스템으로 전이되지 않도록 격리하여, DLQ 재처리나 EOS(Exactly-Once Semantic) 상황에서도 안정적인 복구가 가능합니다.